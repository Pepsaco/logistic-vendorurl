<template>
    <div class="w-full bg-[#f5f5f5] fixed left-0 right-0 bottom-0 px-4 mx-auto py-4 z-10 overflow-y-scroll h-full">
        <div class="flex justify-center items-center border-[6px] rounded-[25px] w-[198px] h-[250px] px-4 mx-auto">
            <svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M59.9998 10L73.1323 19.58L89.3898 19.55L94.3823 35.02L107.552 44.55L102.5 60L107.552 75.45L94.3823 84.98L89.3898 100.45L73.1323 100.42L59.9998 110L46.8673 100.42L30.6098 100.45L25.6173 84.98L12.4473 75.45L17.4998 60L12.4473 44.55L25.6173 35.02L30.6098 19.55L46.8673 19.58L59.9998 10Z" stroke="#F9A82C" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M42.5 60L55 72.5L80 47.5" stroke="#F9A82C" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </div>
        <div class="grid justify-center mt-2">
            <span class="font-poppins text-[18px] font-light leading-[130%] text-center">Order successfully</span>
            <span class="font-poppins text-[12px] font-light leading-[180%] text-center">Your delivery order has been successfully placed. Your order will be paired with a dispatcher soon. Please see the details.</span>
        </div>

        <div class="flex items-center px-4 py-1 mt-2" style="border-radius: 6px;background: #FFF;box-shadow: 0px 2px 48px 0px rgba(0, 0, 0, 0.06);">
            <div class="w-[10%]">
                <svg width="20" height="15" viewBox="0 0 20 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12.502 2.337L10.5 1.985L10.673 1L12.741 1.3635C12.8954 1.1005 13.1159 0.882441 13.3806 0.730969C13.6453 0.579497 13.945 0.499874 14.25 0.5H16.1925C16.3625 0.5 16.5 0.6375 16.5 0.8075V3.6925C16.5 3.8625 16.362 4 16.1925 4H14.25C13.8009 4.00004 13.369 3.82743 13.0436 3.51788C12.7182 3.20833 12.5243 2.78554 12.502 2.337Z" fill="#888888"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M13.4025 4.78125L12.9375 8.49975H9.5V7.85975C9.5 7.66075 9.311 7.49975 9.078 7.49975H5.043C2.258 7.49975 0 9.42475 0 11.7997C0 11.9097 0.105 11.9998 0.235 11.9998H2.511C2.57237 12.6838 2.88749 13.3201 3.39436 13.7836C3.90124 14.247 4.56319 14.504 5.25 14.504C5.93681 14.504 6.59876 14.247 7.10564 13.7836C7.61251 13.3201 7.92763 12.6838 7.989 11.9998H8.444C8.463 11.9998 8.4815 11.9998 8.5 11.9988V11.9998H13.683C13.784 12.3398 14.0745 12.5573 14.392 12.6248C14.604 13.2603 15.0408 13.7966 15.6203 14.1329C16.1998 14.4692 16.8821 14.5824 17.5391 14.4512C18.1961 14.32 18.7827 13.9535 19.1886 13.4204C19.5945 12.8874 19.7918 12.2245 19.7435 11.5562C19.966 11.3242 20.078 10.9838 19.941 10.6153C19.7837 10.1929 19.5403 9.80791 19.2263 9.48467C18.9122 9.16143 18.5344 8.90703 18.1168 8.73763C17.6992 8.56822 17.2509 8.4875 16.8004 8.50061C16.3499 8.51371 15.9071 8.62035 15.5 8.81375V4.99975H14.25C13.9535 5.00023 13.6618 4.92502 13.4025 4.78125ZM6.475 11.9998H4.025C4.08238 12.2823 4.23568 12.5364 4.45894 12.7188C4.68219 12.9013 4.96166 13.001 5.25 13.001C5.53834 13.001 5.81781 12.9013 6.04106 12.7188C6.26432 12.5364 6.41762 12.2823 6.475 11.9998ZM15.947 12.4237C16.0801 12.6315 16.2717 12.7952 16.4977 12.8943C16.7237 12.9934 16.9739 13.0235 17.2169 12.9807C17.4599 12.9378 17.6848 12.8241 17.8633 12.6537C18.0418 12.4834 18.1659 12.264 18.22 12.0233L15.947 12.4237Z" fill="#888888"/>
                    <path d="M2.585 5.5C2.59472 5.4727 2.60522 5.44569 2.6165 5.419L2.585 5.5ZM2.585 5.5C2.53 5.6565 2.5 5.825 2.5 6V6.5H10V6C10 5.8315 9.9725 5.67 9.921 5.519L9.915 5.5C9.81149 5.20746 9.61984 4.95421 9.36643 4.77512C9.11301 4.59603 8.81031 4.49991 8.5 4.5H4C3.70511 4.49993 3.41674 4.58678 3.17094 4.7497C2.92514 4.91262 2.73281 5.14438 2.618 5.416" fill="#888888"/>
                </svg>
            </div>
            <div class="w-[70%]  grid justify-start pl-4">
                <span class="font-poppins text-[14px] font-light leading-[130%] text-center">{{order_no}}</span>
                <span class="font-poppins text-[10px] font-light leading-[130%] text-center text-[#7D8895]">{{ $format_date(created_at) }}</span>
            </div>
            <div class="w-[20%]">
                <span class="font-poppins text-[10px] font-light leading-[130%] text-center text-[#FF0000]" v-if="status == 'pending'">Pending</span>
                <span class="font-poppins text-[10px] font-light leading-[130%] text-center text-[#E87831]" v-if="status == 'accepted'">Paired</span>
                <span class="font-poppins text-[10px] font-light leading-[130%] text-center text-[#007ACC]" v-if="status == 'received'">Route</span>
                <span class="font-poppins text-[10px] font-light leading-[130%] text-center text-[#006854]" v-if="status == 'delivered'">Delivered</span>
            </div>
        </div>
        <div class="mt-4">
            <div @click="navigateTo(`/vendor/order/${slug}/auth/${generatedcode}`)" class=" text-white w-full p-2 flex justify-center text-[12px] font-poppins font-semibold bg-wine rounded " style="background-color: #9D0208;width:90%">View details</div>
        </div>
    </div>
</template>

<script setup>
import { ref, defineEmits, defineProps, onMounted  } from 'vue';
import { useNavigation } from '@/composables/useNavigation';

const { navigateTo } = useNavigation();
const props = defineProps({ ordComplete: Object });

const generatedcode = ref(null);
const order_no = ref(null);
const created_at = ref(null);
const status = ref(null);

const completedOrderData = () => {
    generatedcode.value = props.ordComplete.generatedcode
    order_no.value = props.ordComplete.orderNo
    created_at.value = props.ordComplete.createdAt
    status.value = props.ordComplete.status
}
onMounted(completedOrderData)
</script>

<style  scoped>

</style>